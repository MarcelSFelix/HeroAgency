{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(formBuilder, route, router, accountService, alertService) {\n    this.formBuilder = formBuilder;\n    this.route = route;\n    this.router = router;\n    this.accountService = accountService;\n    this.alertService = alertService;\n    this.loading = false;\n    this.submitted = false;\n  }\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      username: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n  }\n  // convenience getter for easy access to form fields\n  get f() {\n    return this.form.controls;\n  }\n  onSubmit() {\n    this.submitted = true;\n    // reset alerts on submit\n    this.alertService.clear();\n    // stop here if form is invalid\n    if (this.form.invalid) {\n      return;\n    }\n    this.loading = true;\n    this.accountService.login(this.f.username.value, this.f.password.value).pipe(first()).subscribe({\n      next: () => {\n        // get return url from query parameters or default to home page\n        const returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n        this.router.navigateByUrl(returnUrl);\n      },\n      error: error => {\n        this.alertService.error(error);\n        this.loading = false;\n      }\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAOlC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAKzBC,YACYC,WAAwB,EACxBC,KAAqB,EACrBC,MAAc,EACdC,cAA8B,EAC9BC,YAA0B;IAJ1B,gBAAW,GAAXJ,WAAW;IACX,UAAK,GAALC,KAAK;IACL,WAAM,GAANC,MAAM;IACN,mBAAc,GAAdC,cAAc;IACd,iBAAY,GAAZC,YAAY;IARxB,YAAO,GAAG,KAAK;IACf,cAAS,GAAG,KAAK;EAQb;EAEJC,QAAQ;IACJ,IAAI,CAACC,IAAI,GAAG,IAAI,CAACN,WAAW,CAACO,KAAK,CAAC;MAC/BC,QAAQ,EAAE,CAAC,EAAE,EAAEC,UAAU,CAACC,QAAQ,CAAC;MACnCC,QAAQ,EAAE,CAAC,EAAE,EAAEF,UAAU,CAACC,QAAQ;KACrC,CAAC;EACN;EAEA;EACA,IAAIE,CAAC;IAAK,OAAO,IAAI,CAACN,IAAI,CAACO,QAAQ;EAAE;EAErCC,QAAQ;IACJ,IAAI,CAACC,SAAS,GAAG,IAAI;IAErB;IACA,IAAI,CAACX,YAAY,CAACY,KAAK,EAAE;IAEzB;IACA,IAAI,IAAI,CAACV,IAAI,CAACW,OAAO,EAAE;MACnB;;IAGJ,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACf,cAAc,CAACgB,KAAK,CAAC,IAAI,CAACP,CAAC,CAACJ,QAAQ,CAACY,KAAK,EAAE,IAAI,CAACR,CAAC,CAACD,QAAQ,CAACS,KAAK,CAAC,CAClEC,IAAI,CAACC,KAAK,EAAE,CAAC,CACbC,SAAS,CAAC;MACPC,IAAI,EAAE,MAAK;QACP;QACA,MAAMC,SAAS,GAAG,IAAI,CAACxB,KAAK,CAACyB,QAAQ,CAACC,WAAW,CAAC,WAAW,CAAC,IAAI,GAAG;QACrE,IAAI,CAACzB,MAAM,CAAC0B,aAAa,CAACH,SAAS,CAAC;MACxC,CAAC;MACDI,KAAK,EAAEA,KAAK,IAAG;QACX,IAAI,CAACzB,YAAY,CAACyB,KAAK,CAACA,KAAK,CAAC;QAC9B,IAAI,CAACX,OAAO,GAAG,KAAK;MACxB;KACH,CAAC;EACV;CACD;AAjDYpB,cAAc,eAL1BD,SAAS,CAAC;EACTiC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWlC,cAAc,CAiD1B;SAjDYA,cAAc","names":["Component","LoginComponent","constructor","formBuilder","route","router","accountService","alertService","ngOnInit","form","group","username","Validators","required","password","f","controls","onSubmit","submitted","clear","invalid","loading","login","value","pipe","first","subscribe","next","returnUrl","snapshot","queryParams","navigateByUrl","error","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\marcel-steven.felix\\angular-tour-of-heroes\\src\\app\\account\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  form!: FormGroup;\n  loading = false;\n  submitted = false;\n\n  constructor(\n      private formBuilder: FormBuilder,\n      private route: ActivatedRoute,\n      private router: Router,\n      private accountService: AccountService,\n      private alertService: AlertService\n  ) { }\n\n  ngOnInit() {\n      this.form = this.formBuilder.group({\n          username: ['', Validators.required],\n          password: ['', Validators.required]\n      });\n  }\n\n  // convenience getter for easy access to form fields\n  get f() { return this.form.controls; }\n\n  onSubmit() {\n      this.submitted = true;\n\n      // reset alerts on submit\n      this.alertService.clear();\n\n      // stop here if form is invalid\n      if (this.form.invalid) {\n          return;\n      }\n\n      this.loading = true;\n      this.accountService.login(this.f.username.value, this.f.password.value)\n          .pipe(first())\n          .subscribe({\n              next: () => {\n                  // get return url from query parameters or default to home page\n                  const returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n                  this.router.navigateByUrl(returnUrl);\n              },\n              error: error => {\n                  this.alertService.error(error);\n                  this.loading = false;\n              }\n          });\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}